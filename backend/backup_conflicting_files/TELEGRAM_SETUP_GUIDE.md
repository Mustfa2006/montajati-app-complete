# ๐ฑ ุฏููู ุฅุนุฏุงุฏ ูุธุงู ุงูุชูุบุฑุงู ูุงููุฎุฒูู ุงููุชูุงูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฏูุฌ ูุธุงู ุงูุชูุบุฑุงู ููุฑุงูุจุฉ ุงููุฎุฒูู ุจุดูู ูุงูู ูู ุงูุฎุงุฏู ุงูุฑุฆูุณู `production_server.js`. ุงููุธุงู ูุฑุงูุจ ุงููุฎุฒูู ุชููุงุฆูุงู ููุฑุณู ุชูุจููุงุช ููุฑูุฉ ุนุจุฑ ุงูุชูุบุฑุงู.

---

## ๐ง ุงูุฅุนุฏุงุฏ ุงููุทููุจ

### 1๏ธโฃ **ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ**

ุฃุถู ูุฐู ุงููุชุบูุฑุงุช ุฅูู ููู `.env` ุฃู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Render:

```env
# ูุชุบูุฑุงุช ุงูุชูุบุฑุงู (ูุทููุจุฉ)
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=-123456789
LOW_STOCK_THRESHOLD=5

# ูุชุบูุฑุงุช ููุฌูุฏุฉ (ุชุฃูุฏ ูู ูุฌูุฏูุง)
SUPABASE_URL=https://fqdhskaolzfavapmoqdl.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGci...
NODE_ENV=production
PORT=3003
```

### 2๏ธโฃ **ุฅูุดุงุก Telegram Bot**

1. **ุชุญุฏุซ ูุน @BotFather ูู Telegram:**
   - ุฃุฑุณู `/newbot`
   - ุงุฎุชุฑ ุงุณู ููุจูุช (ูุซู: "Montajati Stock Monitor")
   - ุงุฎุชุฑ ูุนุฑู ููุจูุช (ูุซู: "montajati_stock_bot")
   - ุงุญูุธ Bot Token

2. **ุฅูุดุงุก ูุฌููุนุฉ ููุชูุจููุงุช:**
   - ุฃูุดุฆ ูุฌููุนุฉ ุฌุฏูุฏุฉ ูู Telegram
   - ุฃุถู ุงูุจูุช ูููุฌููุนุฉ ููุฏูุฑ
   - ุงุญุตู ุนูู Chat ID ุจุงุณุชุฎุฏุงู @userinfobot

---

## ๐ ุงูููุฒุงุช ุงููุฏูุฌุฉ

### โ **ุงููุฑุงูุจุฉ ุงูููุฑูุฉ:**
- **ูุฑุงูุจุฉ ููุฑูุฉ:** ูู ุฏูููุฉ ูุงุญุฏุฉ ุชููุงุฆูุงู
- **ูุฑุงูุจุฉ ูุญุณูุฉ:** ุชูุญุต ููุท ุงูููุชุฌุงุช ุงูุชู ูููุชูุง 10 ุฃู ุฃูู
- **ูุฑุงูุจุฉ ุนูุฏ ุงูุชุญุฏูุซ:** ููุฑูุฉ ุนูุฏ ุชุญุฏูุซ ุงูููุชุฌุงุช ุฃู ุฅูุดุงุก ุงูุทูุจุงุช
- **ุชูุจููุงุช ุฐููุฉ:** ุชุฌูุจ ุงูุชูุฑุงุฑ ูุงูุฅุฒุนุงุฌ

### โ **ุฃููุงุน ุงูุชูุจููุงุช:**
- **ุงูุฎูุงุถ ุงููุฎุฒูู:** ุนูุฏ ุงููุตูู ูู 5 ูุทุน (ูุงุจู ููุชุฎุตูุต)
- **ููุงุฏ ุงููุฎุฒูู:** ุนูุฏ ุงููุตูู ูู 0 ูุทุน
- **ุชูุงุฑูุฑ ููููุฉ:** ููุฎุต ุดุงูู ูููุฎุฒูู

### โ **API Endpoints ุงููุชุงุญุฉ:**
```
GET  /api/telegram/test          # ุงุฎุชุจุงุฑ ุงุชุตุงู ุงูุชูุบุฑุงู
GET  /api/inventory/test         # ุงุฎุชุจุงุฑ ูุธุงู ุงููุฑุงูุจุฉ
POST /api/inventory/monitor/:id  # ูุฑุงูุจุฉ ููุชุฌ ูุญุฏุฏ
POST /api/inventory/monitor-all  # ูุฑุงูุจุฉ ุฌููุน ุงูููุชุฌุงุช
POST /api/inventory/daily-report # ุฅุฑุณุงู ุชูุฑูุฑ ูููู
POST /api/telegram/send          # ุฅุฑุณุงู ุฑุณุงูุฉ ูุฎุตุตุฉ
```

### โ **Hooks ุงูุชููุงุฆูุฉ:**
```
POST /api/products/update-hook   # ูุชู ุงุณุชุฏุนุงุคู ุนูุฏ ุชุญุฏูุซ ุงูููุชุฌุงุช
POST /api/orders/create-hook     # ูุชู ุงุณุชุฏุนุงุคู ุนูุฏ ุฅูุดุงุก ุงูุทูุจุงุช
POST /api/orders/cancel-hook     # ูุชู ุงุณุชุฏุนุงุคู ุนูุฏ ุฅูุบุงุก ุงูุทูุจุงุช
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1๏ธโฃ **ุงุฎุชุจุงุฑ ุดุงูู:**
```bash
cd backend
node test_integrated_telegram_system.js
```

### 2๏ธโฃ **ุงุฎุชุจุงุฑ ุณุฑูุน:**
```bash
# ุงุฎุชุจุงุฑ ุงุชุตุงู ุงูุชูุบุฑุงู
curl http://localhost:3003/api/telegram/test

# ุงุฎุชุจุงุฑ ูุธุงู ุงููุฑุงูุจุฉ
curl http://localhost:3003/api/inventory/test

# ุฅุฑุณุงู ุฑุณุงูุฉ ุงุฎุชุจุงุฑ
curl -X POST http://localhost:3003/api/telegram/send \
  -H "Content-Type: application/json" \
  -d '{"message": "๐งช ุฑุณุงูุฉ ุงุฎุชุจุงุฑ ูู ุงููุธุงู"}'
```

---

## ๐ ุงูุชูุงูู ูุน Frontend

### **ูู Flutter (inventory_service.dart):**

ุงููุธุงู ูุฏูุฌ ุจุงููุนู! ุงูููุฏ ุงูููุฌูุฏ ูุณุชุฏุนู:
```dart
// ุนูุฏ ุชุญุฏูุซ ุงููุฎุฒูู
_monitorProductStock(productId);
```

ูุฐุง ูุฑุณู ุทูุจ ุฅูู:
```
POST /api/inventory/monitor/:productId
```

---

## ๐ ููุทู ุงูุชูุจููุงุช

### **ุงูุฎูุงุถ ุงููุฎุฒูู:**
- ูุชู ุฅุฑุณุงู ุชูุจูู ุนูุฏ ุงููุตูู ูู **5 ูุทุน ุจุงูุถุจุท**
- ูุง ูุชู ุฅุฑุณุงู ุชูุจูู ููุฑุฑ ููููุชุฌ ููุณู

### **ููุงุฏ ุงููุฎุฒูู:**
- ูุชู ุฅุฑุณุงู ุชูุจูู ุนูุฏ ุงููุตูู ูู **0 ูุทุน ุฃู ุฃูู**
- ูุง ูุชู ุฅุฑุณุงู ุชูุจูู ููุฑุฑ ููููุชุฌ ููุณู

### **ุงูุชูุงุฑูุฑ ุงูููููุฉ:**
- ุชุชุถูู ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- ููุงุฆู ุจุงูููุชุฌุงุช ุงูุชู ุชุญุชุงุฌ ุฅุนุงุฏุฉ ุชุฎุฒูู
- ูููู ุฅุฑุณุงููุง ูุฏููุงู ุฃู ุชููุงุฆูุงู

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ุงููุดุงูู ุงูุดุงุฆุนุฉ:**

1. **ุงูุจูุช ูุง ูุฑุณู ุฑุณุงุฆู:**
   ```
   โ ุงููุดููุฉ: ุฎุทุฃ 403 Forbidden
   โ ุงูุญู: ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูุจูุช ูููุฌููุนุฉ ููุฏูุฑ
   ```

2. **Chat ID ุฎุงุทุฆ:**
   ```
   โ ุงููุดููุฉ: ุฎุทุฃ 400 Bad Request
   โ ุงูุญู: Chat ID ูููุฌููุนุงุช ูุจุฏุฃ ุจู "-"
   ```

3. **ุงููุธุงู ูุง ูุฑุงูุจ ุชููุงุฆูุงู:**
   ```
   โ ุงููุดููุฉ: ูุง ุชูุฌุฏ ุชูุจููุงุช
   โ ุงูุญู: ุชุฃูุฏ ูู ุชุดุบูู production_server.js
   ```

### **ูุญุต ุงูุณุฌูุงุช:**
```bash
# ูู ุงูุฎุงุฏูุ ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู:
โ ุชู ุงูุงุชุตุงู ุจู Telegram Bot ุจูุฌุงุญ
โ ูุธุงู ูุฑุงูุจุฉ ุงููุฎุฒูู ุฌุงูุฒ
โฐ ุชุดุบูู ุงููุฑุงูุจุฉ ุงูุฏูุฑูุฉ ูููุฎุฒูู...
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

### โ **ูุง ุชู ุฅูุฌุงุฒู:**
- โ ุฏูุฌ ูุงูู ูู ุงูุฎุงุฏู ุงูุฑุฆูุณู
- โ ูุฑุงูุจุฉ ุชููุงุฆูุฉ ูู 30 ุฏูููุฉ
- โ ุชูุจููุงุช ููุฑูุฉ ุนูุฏ ุงูุชุญุฏูุซุงุช
- โ API endpoints ุดุงููุฉ
- โ Hooks ุชููุงุฆูุฉ ููุชุทุจูู
- โ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ

### ๐ **ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู:**
1. ุฃุถู ูุชุบูุฑุงุช ุงูุชูุบุฑุงู
2. ุดุบู ุงูุฎุงุฏู
3. ุงููุธุงู ุณูุนูู ููุฑูุงู ูู ุฏูููุฉ!

### ๐ฑ **ุงูุชูุจููุงุช ุณุชุตู ุนูุฏ:**
- ุงูุฎูุงุถ ุงููุฎุฒูู ูู 5 ูุทุน ุจุงูุถุจุท
- ููุงุฏ ุงููุฎุฒูู (0 ูุทุน)
- ุงูุชูุงุฑูุฑ ุงูููููุฉ (ุญุณุจ ุงูุทูุจ)

### โก **ุงูุฃุฏุงุก ุงููุญุณู:**
- ููุญุต ููุท ุงูููุชุฌุงุช ุงูุชู ุชุญุชุงุฌ ูุฑุงูุจุฉ (ูููุฉ โค 10)
- ุฑุณุงุฆู ุณุฌู ุฃูู ูุชุฌูุจ ุงูุฅุฒุนุงุฌ
- ุงุณุชุฌุงุจุฉ ููุฑูุฉ ููุชุบููุฑุงุช

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุงูุณุฌูุงุช ูู ุงูุฎุงุฏู
2. ุดุบู ุงุฎุชุจุงุฑ ุงููุธุงู ุงููุชูุงูู
3. ุชุฃูุฏ ูู ุตุญุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
