# ===================================
# Render.com Deployment Configuration
# ===================================
# โ๏ธ ูุฐุง ุงูููู ูููุฑุฌุน ููุท - ูุง ูุญุชูู ุนูู ููุงุชูุญ ุญููููุฉ
# ูุฌุจ ุฅุนุฏุงุฏ Environment Variables ูู Render Dashboard

services:
  - type: web
    name: montajati-backend
    env: node
    plan: free
    region: oregon
    buildCommand: |
      echo "๐ง ุชุซุจูุช ุงูุชุจุนูุงุช..."
      npm ci --only=production
      echo "โ ุชู ุชุซุจูุช ุงูุชุจุนูุงุช ุจูุฌุงุญ"
    startCommand: npm run production
    healthCheckPath: /health

    # โ๏ธ ูุฌุจ ุฅุนุฏุงุฏ ูุฐู ุงููุชุบูุฑุงุช ูู Render Dashboard
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 3003

      # ูุงุนุฏุฉ ุงูุจูุงูุงุช - Supabase
      - key: SUPABASE_URL
        value: "SET_IN_RENDER_DASHBOARD"
      - key: SUPABASE_ANON_KEY
        value: "SET_IN_RENDER_DASHBOARD"
      - key: SUPABASE_SERVICE_ROLE_KEY
        value: "SET_IN_RENDER_DASHBOARD"

      # Firebase ููุฅุดุนุงุฑุงุช
      - key: FIREBASE_PROJECT_ID
        value: "SET_IN_RENDER_DASHBOARD"
      - key: FIREBASE_PRIVATE_KEY
        value: "SET_IN_RENDER_DASHBOARD"
      - key: FIREBASE_CLIENT_EMAIL
        value: "SET_IN_RENDER_DASHBOARD"
      - key: NOTIFICATIONS_ENABLED
        value: true

      # ุงูุฃูุงู
      - key: RATE_LIMIT_WINDOW_MS
        value: 900000
      - key: RATE_LIMIT_MAX_REQUESTS
        value: 100
      - key: CORS_ORIGINS
        value: "SET_IN_RENDER_DASHBOARD"

      # ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
      - key: DEFAULT_DELIVERY_FEE
        value: 5000
      - key: ORDER_PREFIX
        value: ORD
      - key: AUTO_SEND_TO_DELIVERY
        value: false
