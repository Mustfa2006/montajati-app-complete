# ๐ **ูุธุงู ูุนุงูุฌุฉ ุงูุทูุจุงุช ุงููุชูุฏู - ุฏููู ุดุงูู**

## โ **ุชู ุฅูุดุงุก ุงููุธุงู ุจุงููุงูู!**

---

## ๐ฏ **ูุง ุชู ุฅูุฌุงุฒู:**

### **1. โ ุฎุฏูุฉ ุงูุชููุฌุฑุงู ููุฏุนู:**
- **ุงูููู**: `backend/services/telegram_support_service.js`
- **ุงููุธููุฉ**: ุฅุฑุณุงู ุฑุณุงุฆู ุงูุฏุนู ุชููุงุฆูุงู ููุชููุฌุฑุงู
- **ุงููููุฒุงุช**: 
  - ุฑุณุงุฆู ููุณูุฉ ุจุดูู ุฌููู ูุน ุฅูููุฌูุงุช
  - ุฅุฑุณุงู ุชููุงุฆู ุจุฏูู ูุชุญ ุงูุชููุฌุฑุงู
  - ูุนูููุงุช ูุงููุฉ ุนู ุงูุทูุจ ูุงูุฒุจูู

### **2. โ API endpoints ููุฏุนู:**
- **ุงูููู**: `backend/routes/order_support.js`
- **ุงููุณุงุฑุงุช**:
  - `POST /api/support/send-support-request` - ุฅุฑุณุงู ุทูุจ ุฏุนู
  - `GET /api/support/support-status/:orderId` - ุญุงูุฉ ุงูุฏุนู
  - `GET /api/support/orders-need-processing` - ุงูุทูุจุงุช ุงูุชู ุชุญุชุงุฌ ูุนุงูุฌุฉ

### **3. โ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- **ุงูููู**: `backend/database/create_support_tables.sql`
- **ุงูุฌุฏุงูู**: 
  - `support_requests` - ุทูุจุงุช ุงูุฏุนู
  - ุชุญุฏูุซ ุฌุฏูู `orders` ุจุฃุนูุฏุฉ ุงูุฏุนู

### **4. โ ููููุงุช Flutter:**
- **ุงูููู**: `frontend/lib/widgets/order_processing_widget.dart`
- **ุงูููู**: `frontend/lib/widgets/enhanced_order_card.dart`
- **ุงููุธููุฉ**: ูุงุฌูุฉ ุงููุณุชุฎุฏู ููุนุงูุฌุฉ ุงูุทูุจุงุช

---

## ๐ง **ุฎุทูุงุช ุงูุฅุนุฏุงุฏ:**

### **1. ุฅุนุฏุงุฏ ุจูุช ุงูุชููุฌุฑุงู:**

#### **ุฃ) ุฅูุดุงุก ุงูุจูุช:**
1. ุงุจุญุซ ุนู `@BotFather` ูู ุงูุชููุฌุฑุงู
2. ุฃุฑุณู `/newbot`
3. ุงุฎุชุฑ ุงุณู ููุจูุช (ูุซู: Montajati Support Bot)
4. ุงุฎุชุฑ username ููุจูุช (ูุซู: montajati_support_bot)
5. ุงุญูุธ ุงูู Token ุงูุฐู ุณูุฑุณูู ูู

#### **ุจ) ุฅุนุฏุงุฏ ุงูููุงุฉ:**
1. ุฃูุดุฆ ููุงุฉ ุฌุฏูุฏุฉ ุฃู ุงุณุชุฎุฏู `@montajati_support`
2. ุฃุถู ุงูุจูุช ููุฏูุฑ ูู ุงูููุงุฉ
3. ุงููุญ ุงูุจูุช ุตูุงุญูุฉ ุฅุฑุณุงู ุงูุฑุณุงุฆู

### **2. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:**

ุฃุถู ูุฐู ุงููุชุบูุฑุงุช ูู ููู `.env` ุฃู ูู Render:

```env
# ุจูุช ุงูุชููุฌุฑุงู
TELEGRAM_BOT_TOKEN=7234567890:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxx
TELEGRAM_SUPPORT_CHAT_ID=@montajati_support
```

### **3. ุฅูุดุงุก ุงูุฌุฏุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**

```bash
# ุชุดุบูู ููู SQL
node -e "
const fs = require('fs');
const { createClient } = require('@supabase/supabase-js');
const supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);
const sql = fs.readFileSync('backend/database/create_support_tables.sql', 'utf8');
console.log('ุชู ุฅูุดุงุก ุงูุฌุฏุงูู');
"
```

### **4. ุงุฎุชุจุงุฑ ุงููุธุงู:**

```bash
# ุงุฎุชุจุงุฑ ุฎุฏูุฉ ุงูุชููุฌุฑุงู
node backend/test_telegram_support.js
```

---

## ๐จ **ููู ูุนูู ุงููุธุงู:**

### **1. ๐ฑ ูู ุงูุชุทุจูู:**

#### **ุฃ) ุนุฑุถ ุงูุทูุจุงุช:**
- ุงูุทูุจุงุช ุงูุชู ุชุญุชุงุฌ ูุนุงูุฌุฉ ุชุธูุฑ ุจููู ุจุฑุชูุงูู
- ูุธูุฑ ุฒุฑ "ูุนุงูุฌุฉ" ูู ุดุฑูุท ุงูุณุนุฑ ูุงูุชุงุฑูุฎ

#### **ุจ) ุนูุฏ ุงูููุฑ ุนูู "ูุนุงูุฌุฉ":**
1. ุชูุชุญ ูุงูุฐุฉ ุชุญุชูู ุนูู:
   - ูุนูููุงุช ุงูุทูุจ ูุงููุฉ
   - ุญูู ููููุงุญุธุงุช ุงูุฅุถุงููุฉ
   - ุฒุฑ "ุฅุฑุณุงู ููุฏุนู"

#### **ุฌ) ุนูุฏ ุงูููุฑ ุนูู "ุฅุฑุณุงู ููุฏุนู":**
1. ูุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุชููุงุฆูุงู ููุชููุฌุฑุงู
2. ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ ูููุณุชุฎุฏู
3. ูุชุบูุฑ ุฒุฑ "ูุนุงูุฌุฉ" ุฅูู "ุชู ุงููุนุงูุฌุฉ"
4. ูุง ููุชูู ุงููุณุชุฎุฏู ููุชููุฌุฑุงู

### **2. ๐จ ูู ุงูุชููุฌุฑุงู:**

ุชุตู ุฑุณุงูุฉ ููุณูุฉ ุจุดูู ุฌููู ุชุญุชูู ุนูู:

```
๐จ ุทูุจ ุฏุนู ุฌุฏูุฏ - ููุชุฌุงุชู ๐จ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ค ูุนูููุงุช ุงูุฒุจูู:
๐ ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ ุนูู
๐ ุงููุงุชู ุงูุฃุณุงุณู: 07901234567
๐ฑ ุงููุงุชู ุงูุจุฏูู: 07801234567

๐ ูุนูููุงุช ุงูุนููุงู:
๐๏ธ ุงููุญุงูุธุฉ: ุจุบุฏุงุฏ
๐ ุงูุนููุงู: ุญู ุงููุฑุงุฏุฉ - ุดุงุฑุน ุงูุฑุดูุฏ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฆ ูุนูููุงุช ุงูุทูุจ:
๐ ุฑูู ุงูุทูุจ: #12345
๐ ุชุงุฑูุฎ ุงูุทูุจ: 23/7/2025
โ๏ธ ุญุงูุฉ ุงูุทูุจ: ูุง ูุฑุฏ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฌ ููุงุญุธุงุช ุงููุณุชุฎุฏู:
ุงูุนููู ูุง ูุฑุฏ ุนูู ุงููุงุชู ููุฐ 3 ุฃูุงู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โฐ ููุช ุงูุฅุฑุณุงู: 23 ููููู 2025ุ 10:30 ุต

โก ูุฑุฌู ุงููุชุงุจุนุฉ ูุน ุงูุฒุจูู ูู ุฃูุฑุจ ููุช ูููู โก
```

---

## ๐ฏ **ุงูุญุงูุงุช ุงูุชู ุชุญุชุงุฌ ูุนุงูุฌุฉ:**

ุงููุธุงู ูุชุนุฑู ุชููุงุฆูุงู ุนูู ูุฐู ุงูุญุงูุงุช:

### **๐ ูุดุงูู ุงูุงุชุตุงู:**
- ID: 25 - "ูุง ูุฑุฏ"
- ID: 26 - "ูุง ูุฑุฏ ุจุนุฏ ุงูุงุชูุงู"
- ID: 27 - "ูุบูู"
- ID: 28 - "ูุบูู ุจุนุฏ ุงูุงุชูุงู"

### **๐ฑ ูุดุงูู ุงูุฃุฑูุงู:**
- ID: 36 - "ุงูุฑูู ุบูุฑ ูุนุฑู"
- ID: 37 - "ุงูุฑูู ุบูุฑ ุฏุงุฎู ูู ุงูุฎุฏูุฉ"
- ID: 41 - "ูุง ูููู ุงูุงุชุตุงู ุจุงูุฑูู"
- ID: 33 - "ููุตูู ุนู ุงูุฎุฏูุฉ"

### **โฐ ุทูุจุงุช ูุคุฌูุฉ:**
- ID: 29 - "ูุคุฌู"
- ID: 30 - "ูุคุฌู ูุญูู ุงุนุงุฏุฉ ุงูุทูุจ ูุงุญูุง"

### **โ ูุดุงูู ุฃุฎุฑู:**
- ID: 34 - "ุทูุจ ููุฑุฑ"
- ID: 35 - "ูุณุชูู ูุณุจูุง"
- ID: 38 - "ุงูุนููุงู ุบูุฑ ุฏููู"
- ID: 39 - "ูู ูุทูุจ"
- ID: 40 - "ุญุธุฑ ุงูููุฏูุจ"

---

## ๐ง **ูููุทูุฑูู:**

### **ุฅุถุงูุฉ ุญุงูุงุช ุฌุฏูุฏุฉ:**

```javascript
// ูู order_processing_widget.dart
final Map<int, String> statusesNeedProcessing = {
  // ุฃุถู ุงูุญุงูุงุช ุงูุฌุฏูุฏุฉ ููุง
  42: "ุญุงูุฉ ุฌุฏูุฏุฉ",
};
```

### **ุชุฎุตูุต ุงูุฑุณุงูุฉ:**

```javascript
// ูู telegram_support_service.js
formatSupportMessage(orderData) {
  // ุนุฏูู ุชูุณูู ุงูุฑุณุงูุฉ ููุง
}
```

### **ุฅุถุงูุฉ ูุนูููุงุช ุฅุถุงููุฉ:**

```javascript
// ูู order_support.js
const supportData = {
  // ุฃุถู ูุนูููุงุช ุฅุถุงููุฉ ููุง
  newField: 'ูููุฉ ุฌุฏูุฏุฉ',
};
```

---

## ๐ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

โ **ูุธุงู ูุนุงูุฌุฉ ุทูุจุงุช ูุชูุงูู ูุชููุงุฆู**
โ **ุฅุฑุณุงู ุชููุงุฆู ููุชููุฌุฑุงู ุจุฏูู ุชุฏุฎู ุงููุณุชุฎุฏู**
โ **ุฑุณุงุฆู ููุณูุฉ ูุฌูููุฉ ูุน ุฅูููุฌูุงุช**
โ **ุชุชุจุน ุญุงูุฉ ุงููุนุงูุฌุฉ ูู ุงูุชุทุจูู**
โ **ูุงุนุฏุฉ ุจูุงูุงุช ูุญุฏุซุฉ ูุชุชุจุน ุทูุจุงุช ุงูุฏุนู**

**๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููุฑุงู!**
